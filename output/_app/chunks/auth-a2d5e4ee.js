import{N as e,O as a,P as s,Q as t,R as o,U as r,C as n,V as c,W as i,X as d,Y as l,T as p,Z as u,_ as w,$ as m,a0 as y,a1 as b,a2 as f}from"./vendor-866a4f78.js";const h=e({apiKey:"AIzaSyDEAAXuJcftdIqBRxi_OmDYmFEMs2qnpIw",authDomain:"tonyswebpool.firebaseapp.com",databaseURL:"https://tonyswebpool.firebaseio.com",projectId:"tonyswebpool",storageBucket:"tonyswebpool.appspot.com",messagingSenderId:"1009472673898",appId:"1:1009472673898:web:349b4dad1bccd89d2e9213",measurementId:"G-8Y5HV7HDFZ"}),U=a(),I=s(h);t(h),o(U).catch((e=>{"failed-precondition"==e.code||"unimplemented"==e.code&&console.warn("ðŸ”¥ The current browser does not support all of the features required to enable persistence. ðŸ”¥")}));const g=r(U,"Users"),x=n(I.currentUser),k=n();let v;const A=async e=>{try{return await y(I,e)}catch(a){alert(a)}},D=async e=>{try{return await b(I,e)}catch(a){alert(a)}},N=async(e,a)=>{const s=await(async e=>{let a;switch(e){case"Google":a=new w;break;case"Facebook":a=new m;break;default:a=new w}return a})(e);I.currentUser&&(a?await c(I.currentUser,s):await i(I.currentUser,s));const t=await(async(e,a)=>a?await A(e):await D(e))(s,a);if(t){x.set(t.user);const e=d(x);v=await l(p(g,e.uid))}if(v.exists())console.info("User "+(v.exists()?"already exists":"does not exist!"));else{const e=d(x),a=p(g,e.uid);u(a,{name:e.displayName,email:e.email,admin:!0,college:!1,pick6:!0,playoffs:!0,survivor:!0}),console.info(`New user doc for ${e.displayName} (${e.uid}) added!`)}},q=async()=>{k.set(void 0),f(I)};I.onAuthStateChanged((()=>{x.set(I.currentUser)}));export{g as a,q as b,x as c,N as s,k as u};
